(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{563:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("code",[s._v("Genymotion + Appium + Python")]),s._v(" æ˜¯ä¸»æµçš„ç§»åŠ¨ç«¯ App è‡ªåŠ¨åŒ–æµ‹è¯•è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼Œæœ¬æ–‡è®°å½•è¯¥æ–¹æ¡ˆçš„ Android App è‡ªåŠ¨åŒ–æµ‹è¯•ç¯å¢ƒæ­å»º ("),a("strong",[s._v("macOS-11.x")]),s._v(") åŠ demo æ¼”ç¤ºã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1-ç¯å¢ƒæ­å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¯å¢ƒæ­å»º"}},[s._v("#")]),s._v(" 1. ç¯å¢ƒæ­å»º")]),s._v(" "),a("h4",{attrs:{id:"_1-1-jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-jdk"}},[s._v("#")]),s._v(" 1.1 JDK")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”— Oracleå®˜æ–¹ä¸‹è½½"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://mirrors.huaweicloud.com/java/jdk/11.0.1+13/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”— åä¸ºJDKé•œåƒä¸‹è½½"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("ä»¥åä¸ºé•œåƒä¸ºä¾‹ï¼Œå®‰è£…å®Œæˆååœ¨ç»ˆç«¯è¾“å…¥ "),a("code",[s._v("java --version")]),s._v(" ã€"),a("code",[s._v("javac --version")]),s._v(" æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmn9pusfj30sw0iwdgw.jpg",alt:""}})]),s._v(" "),a("p",[s._v("é…ç½®ç¯å¢ƒå˜é‡")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# JDKç¯å¢ƒå˜é‡")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home    \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":.\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœæ˜¯JDK8åŠä»¥å‰çš„ç‰ˆæœ¬ï¼Œè¿˜éœ€è¦ä¸‹é¢è¿™ä¸€å¥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#export CLASSPATH=$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar:.")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmc4qfdpj30sw0jlmy2.jpg",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"_1-2-android-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-android-sdk"}},[s._v("#")]),s._v(" 1.2 Android SDK")]),s._v(" "),a("p",[s._v("ç»ˆç«¯è¾“å…¥ "),a("code",[s._v("brew install android-sdk")]),s._v(" å®‰è£… Android SDKï¼Œä¹Ÿå¯ä»¥ç”¨ Android Studio å®‰è£…ï¼Œç„¶åé…ç½®ç¯å¢ƒå˜é‡ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SDKç¯å¢ƒå˜é‡ï¼Œç¬¬ä¸€è¡Œå®‰è£…è·¯å¾„éœ€æ®å®ä¿®æ”¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ANDROID_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/opt/Library/Android/sdk\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ANDROID_HOME")]),s._v("/tools\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ANDROID_HOME")]),s._v("/platform-tools\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_1-3-genymotion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-genymotion"}},[s._v("#")]),s._v(" 1.3 Genymotion")]),s._v(" "),a("p",[s._v("é€‰æ‹© Desktop ç‰ˆæœ¬ "),a("a",{attrs:{href:"https://www.genymotion.com/download/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”— Genymotionå®˜æ–¹ä¸‹è½½"),a("OutboundLink")],1),s._v("ï¼Œæ³¨æ„ç³»ç»Ÿè¦æ±‚ï¼ˆ VM å®‰è£…è¿™é‡Œä¸èµ˜è¿° ï¼‰ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmi1g9kaj30sw0gr0to.jpg",alt:""}})]),s._v(" "),a("p",[s._v("ç‚¹å‡»å³ä¸Šè§’ "),a("code",[s._v("+")]),s._v(" å·ï¼Œè®¾ç½®æˆ–è€…è‡ªå®šä¹‰æµ‹è¯•ç¯å¢ƒæœºå‹ã€‚"),a("br"),s._v(" "),a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmifqmpfj30sw0k9mze.jpg",alt:""}})]),s._v(" "),a("p",[s._v("Genymotion Shell è‡ªæ‰“å¼€æ˜¾ç¤ºç›¸å…³æœºå‹ä¿¡æ¯å³æˆåŠŸã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-4-appium"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-appium"}},[s._v("#")]),s._v(" 1.4 Appium")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/appium/appium-desktop/releases/tag/v1.21.0",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”— Appium Github Repo"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("å®‰è£… "),a("code",[s._v("appium-python")]),s._v("åº“ï¼Œç»ˆç«¯è¾“å…¥ "),a("code",[s._v("pip3 install appium-python-client")]),s._v(" ï¼ˆPython3ï¼‰ã€‚")]),s._v(" "),a("p",[s._v("è®¾ç½® "),a("code",[s._v("JAVA_HOME")]),s._v(" ã€ "),a("code",[s._v("ANDROID_HOME")]),s._v(" ç¯å¢ƒå˜é‡ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmfqzl6hj30sw0qvtaq.jpg",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmzd72g7j30sw0j1t9n.jpg",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"_1-5-è¿è¡Œ-adb-å‘½ä»¤æµ‹è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-è¿è¡Œ-adb-å‘½ä»¤æµ‹è¯•"}},[s._v("#")]),s._v(" 1.5 è¿è¡Œ adb å‘½ä»¤æµ‹è¯•")]),s._v(" "),a("ul",[a("li",[s._v("ç»ˆç«¯è¾“å…¥ "),a("code",[s._v("adb shell dumpsys window | grep mCurrentFocus")]),s._v(" è·å– Package / Activityã€‚")]),s._v(" "),a("li",[s._v("æœ‰å¤šä¸ªè®¾å¤‡æ—¶ï¼Œä¼šæç¤º "),a("code",[s._v("adb: more than one device and emulator")]),s._v("ï¼Œ è¾“å…¥ "),a("code",[s._v("adb kill-server")]),s._v(" æˆ–è€… "),a("code",[s._v("adb -s è®¾å¤‡å shell")]),s._v(" æŒ‡å®šè®¾å¤‡å³å¯ã€‚")]),s._v(" "),a("li",[a("code",[s._v("adb devices")]),s._v(" æŸ¥çœ‹è¿æ¥è®¾å¤‡ä¿¡æ¯ã€‚")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtmowec6kj30sw0jl75h.jpg",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_2-ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç¤ºä¾‹"}},[s._v("#")]),s._v(" 2. ç¤ºä¾‹")]),s._v(" "),a("p",[s._v("è‡ªåŠ¨æ‰“å¼€ Setting 5ç§’é‡ç½®å›åˆ° Home é¡µé¢")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" appium "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" webdriver\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" time\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªåŠ¨æ‰“å¼€ Setting ç„¶åé‡ç½®å›åˆ° Home é¡µé¢")]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æµ‹è¯•å¹³å°")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"platformName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Android"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç‰ˆæœ¬å·")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"platformVersion"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾å¤‡åï¼Œandriodå¯ä»¥ä¸ºç©ºï¼Œioså¿…é¡»å¡«å†™")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deviceName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.56.101:5555"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Setting åŒ…å")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appPackage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.android.settings"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Setting ç•Œé¢å")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appActivity"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.android.settings.Settings"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¯å¦é‡ç½®")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"noRest"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\ndriver "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" webdriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Remote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://127.0.0.1:4723/wd/hub"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndriver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("quit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gqtvt23pr8g30sw0g9dp0.gif",alt:""}})])])}),[],!1,null,null,null);t.default=e.exports}}]);